<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Hist√≥rico de Movimenta√ß√µes</title>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">

    <!-- Seu CSS -->
    <link rel="stylesheet" href="/static/css/style.css">
</head>

<body class="bg-light">

<nav class="navbar navbar-dark bg-primary mb-4">
    <div class="container-fluid">
        <a class="navbar-brand" href="/">üíä Sistema de Estoque</a>
    </div>
</nav>

<div class="container">

    <h2 class="mb-4">üìú Hist√≥rico de Movimenta√ß√µes</h2>

    <!-- Abas -->
    <ul class="nav nav-tabs" id="tabsHistorico">
        <li class="nav-item">
            <button class="nav-link active" onclick="abrirAba('aba_movimentacoes')">Movimenta√ß√µes</button>
        </li>
        <li class="nav-item">
            <button class="nav-link" onclick="abrirAba('aba_vendidos')">Mais Vendidos</button>
        </li>
    </ul>

    <!-- Conte√∫do das Abas -->
    <div class="card p-4 mt-3">

        <!-- ABA 1 -->
        <div id="aba_movimentacoes">
            <h4>üîç Consultar Movimenta√ß√µes</h4>

            <div class="row g-3 mt-2">
                <div class="col-md-3">
                    <label class="form-label">Tipo</label>
                    <select id="tipo" class="form-select">
                        <option value="">Todos</option>
                        <option value="entrada">Entrada</option>
                        <option value="saida">Sa√≠da</option>
                        <option value="repor">Reposi√ß√£o</option>
                    </select>
                </div>

                <div class="col-md-4">
                    <label class="form-label">C√≥digo de Barras</label>
                    <input type="text" id="codigo_barras" class="form-control">
                </div>

                <div class="col-md-2 d-flex align-items-end">
                    <button class="btn btn-primary w-100" onclick="consultarMovimentacoes()">
                        Buscar
                    </button>
                </div>
            </div>

            <hr>

            <div class="table-responsive">
                <table class="table table-striped table-bordered text-center align-middle">
                    <thead class="table-primary">
                        <tr>
                            <th>ID</th>
                            <th>C√≥digo</th>
                            <th>Nome</th>
                            <th>Tipo</th>
                            <th>Quantidade</th>
                            <th>Antes</th>
                            <th>Depois</th>
                            <th>Data/Hora</th>
                            <th>Obs</th>
                        </tr>
                    </thead>
                    <tbody id="tabela_movimentacoes"></tbody>
                </table>
            </div>
        </div>

        <!-- ABA 2 -->
        <div id="aba_vendidos" style="display:none;">
            <h4>üèÜ Medicamentos mais vendidos</h4>

            <div class="row g-3 mt-2">
                <div class="col-md-3">
                    <label class="form-label">M√™s</label>
                    <input type="number" id="mes" class="form-control" min="1" max="12">
                </div>

                <div class="col-md-3">
                    <label class="form-label">Ano</label>
                    <input type="number" id="ano" class="form-control" min="2000" max="2100">
                </div>

                <div class="col-md-3 d-flex align-items-end">
                    <button class="btn btn-success w-100" onclick="consultarMaisVendidos()">
                        Consultar
                    </button>
                </div>
            </div>

            <hr>

            <div class="table-responsive">
                <table class="table table-striped table-bordered text-center align-middle">
                    <thead class="table-success">
                        <tr>
                            <th>Nome</th>
                            <th>Total Vendido</th>
                        </tr>
                    </thead>
                    <tbody id="tabela_vendidos"></tbody>
                </table>
            </div>

        </div>

    </div>

</div>

<script src="/static/js/historico.js"></script>
</body>
</html>
